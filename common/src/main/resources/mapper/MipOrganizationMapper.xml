<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.tj720.dao.MipOrganizationMapper" >
  <resultMap id="BaseResultMap" type="com.tj720.model.common.system.org.MipOrganization" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Aug 09 11:14:20 CST 2017.
    -->
    <id column="id" property="id" jdbcType="VARCHAR" />
    <result column="name" property="name" jdbcType="VARCHAR" />
    <result column="dwid" property="dwid" jdbcType="VARCHAR" />
    <result column="base_name" property="baseName" jdbcType="VARCHAR" />
    <result column="shortname" property="shortname" jdbcType="VARCHAR" />
    <result column="org_type_id" property="orgTypeId" jdbcType="VARCHAR" />
    <result column="parent_id" property="parentId" jdbcType="INTEGER" />
    <result column="level" property="level" jdbcType="TINYINT" />
    <result column="path" property="path" jdbcType="VARCHAR" />
    <result column="platform_id" property="platformId" jdbcType="INTEGER" />
    <result column="contact" property="contact" jdbcType="VARCHAR" />
    <result column="province_id" property="provinceId" jdbcType="INTEGER" />
    <result column="city_id" property="cityId" jdbcType="INTEGER" />
    <result column="town_id" property="townId" jdbcType="INTEGER" />
    <result column="address" property="address" jdbcType="VARCHAR" />
    <result column="mobile" property="mobile" jdbcType="VARCHAR" />
    <result column="tel" property="tel" jdbcType="VARCHAR" />
    <result column="fex" property="fex" jdbcType="VARCHAR" />
    <result column="email" property="email" jdbcType="VARCHAR" />
    <result column="info" property="info" jdbcType="VARCHAR" />
    <result column="remark" property="remark" jdbcType="VARCHAR" />
    <result column="open" property="open" jdbcType="TINYINT" />
    <result column="collection_count" property="collectionCount" jdbcType="INTEGER" />
    <result column="creator_uid" property="creatorUid" jdbcType="INTEGER" />
    <result column="operator_uid" property="operatorUid" jdbcType="INTEGER" />
    <result column="sequence" property="sequence" jdbcType="INTEGER" />
    <result column="updated_count" property="updatedCount" jdbcType="INTEGER" />
    <result column="status" property="status" jdbcType="TINYINT" />
    <result column="isdelete" property="isdelete" jdbcType="TINYINT" />
    <result column="created_time" property="createdTime" jdbcType="TIMESTAMP" />
    <result column="updated_time" property="updatedTime" jdbcType="TIMESTAMP" />
    <result column="latitude" property="latitude" jdbcType="DOUBLE" />
    <result column="longitude" property="longitude" jdbcType="DOUBLE" />
  </resultMap>
  <!--<sql id="Example_Where_Clause" >-->
    <!--&lt;!&ndash;-->
      <!--WARNING - @mbggenerated-->
      <!--This element is automatically generated by MyBatis Generator, do not modify.-->
      <!--This element was generated on Wed Aug 09 11:14:20 CST 2017.-->
    <!--&ndash;&gt;-->
    <!--<where >-->
      <!--<foreach collection="oredCriteria" item="criteria" separator="or" >-->
        <!--<if test="criteria.valid" >-->
          <!--<trim prefix="(" suffix=")" prefixOverrides="and" >-->
            <!--<foreach collection="criteria.criteria" item="criterion" >-->
              <!--<choose >-->
                <!--<when test="criterion.noValue" >-->
                  <!--and ${criterion.condition}-->
                <!--</when>-->
                <!--<when test="criterion.singleValue" >-->
                  <!--and ${criterion.condition} #{criterion.value}-->
                <!--</when>-->
                <!--<when test="criterion.betweenValue" >-->
                  <!--and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}-->
                <!--</when>-->
                <!--<when test="criterion.listValue" >-->
                  <!--and ${criterion.condition}-->
                  <!--<foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >-->
                    <!--#{listItem}-->
                  <!--</foreach>-->
                <!--</when>-->
              <!--</choose>-->
            <!--</foreach>-->
          <!--</trim>-->
        <!--</if>-->
      <!--</foreach>-->
    <!--</where>-->
  <!--</sql>-->
  <!--<sql id="Update_By_Example_Where_Clause" >-->
    <!--&lt;!&ndash;-->
      <!--WARNING - @mbggenerated-->
      <!--This element is automatically generated by MyBatis Generator, do not modify.-->
      <!--This element was generated on Wed Aug 09 11:14:20 CST 2017.-->
    <!--&ndash;&gt;-->
    <!--<where >-->
      <!--<foreach collection="example.oredCriteria" item="criteria" separator="or" >-->
        <!--<if test="criteria.valid" >-->
          <!--<trim prefix="(" suffix=")" prefixOverrides="and" >-->
            <!--<foreach collection="criteria.criteria" item="criterion" >-->
              <!--<choose >-->
                <!--<when test="criterion.noValue" >-->
                  <!--and ${criterion.condition}-->
                <!--</when>-->
                <!--<when test="criterion.singleValue" >-->
                  <!--and ${criterion.condition} #{criterion.value}-->
                <!--</when>-->
                <!--<when test="criterion.betweenValue" >-->
                  <!--and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}-->
                <!--</when>-->
                <!--<when test="criterion.listValue" >-->
                  <!--and ${criterion.condition}-->
                  <!--<foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >-->
                    <!--#{listItem}-->
                  <!--</foreach>-->
                <!--</when>-->
              <!--</choose>-->
            <!--</foreach>-->
          <!--</trim>-->
        <!--</if>-->
      <!--</foreach>-->
    <!--</where>-->
  <!--</sql>-->
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Aug 09 11:14:20 CST 2017.
    -->
    id, name, dwid, base_name, shortname, org_type_id, parent_id, level, path, platform_id, 
    contact, province_id, city_id, town_id, address, mobile, tel, fex, email, info, remark, 
    open, collection_count, creator_uid, operator_uid, sequence, updated_count,
    status, isdelete, created_time, updated_time, latitude, longitude
  </sql>
  
  <select id="getListById" resultMap="BaseResultMap" parameterType="java.lang.String">
  	select
  	<include refid="Base_Column_List" />
  	from mip_organization
  	where parent_id = #{id} and status > 0
  </select>
  
  
  <select id="getListByArea" resultMap="BaseResultMap" parameterType="java.lang.String">
  	select
 	<include refid="Base_Column_List" />
  	from mip_organization
  	where parent_id = #{area} and status > 0
  
  </select>
  
  
  <!--<select id="selectByExample" resultMap="BaseResultMap" parameterType="com.tj720.model.common.system.org.MipOrganizationExample" >-->
    <!--&lt;!&ndash;-->
      <!--WARNING - @mbggenerated-->
      <!--This element is automatically generated by MyBatis Generator, do not modify.-->
      <!--This element was generated on Wed Aug 09 11:14:20 CST 2017.-->
    <!--&ndash;&gt;-->
    <!--select-->
    <!--<if test="distinct" >-->
      <!--distinct-->
    <!--</if>-->
    <!--<include refid="Base_Column_List" />-->
    <!--from mip_organization-->
    <!--<if test="_parameter != null" >-->
      <!--<include refid="Example_Where_Clause" />-->
    <!--</if>-->
    <!--<if test="orderByClause != null" >-->
      <!--order by ${orderByClause}-->
    <!--</if>-->
  <!--</select>-->
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Aug 09 11:14:20 CST 2017.
    -->
    select 
    <include refid="Base_Column_List" />
    from mip_organization
    where id = #{id}
  </select>
  <select id="selectAllOrganization" resultMap="BaseResultMap" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Aug 09 11:14:20 CST 2017.
    -->
    select 
    <include refid="Base_Column_List" />
    from mip_organization
    where parent_id = #{id} and status >0
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Aug 09 11:14:20 CST 2017.
    -->
    delete from mip_organization
    where id = #{id}
  </delete>
  <!--<delete id="deleteByExample" parameterType="com.tj720.model.common.system.org.MipOrganizationExample" >-->
    <!--&lt;!&ndash;-->
      <!--WARNING - @mbggenerated-->
      <!--This element is automatically generated by MyBatis Generator, do not modify.-->
      <!--This element was generated on Wed Aug 09 11:14:20 CST 2017.-->
    <!--&ndash;&gt;-->
    <!--delete from mip_organization-->
    <!--<if test="_parameter != null" >-->
      <!--<include refid="Example_Where_Clause" />-->
    <!--</if>-->
  <!--</delete>-->
  <insert id="insert" parameterType="com.tj720.model.common.system.org.MipOrganization" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Aug 09 11:14:20 CST 2017.
    -->
    insert into mip_organization (id, name, dwid, 
      base_name, shortname, org_type_id, 
      parent_id, level, path, 
      platform_id, contact, province_id, 
      city_id, town_id, address, 
      mobile, tel, fex, email, 
      info, remark, open, 
      collection_count, creator_uid, operator_uid, 
      sequence, updated_count,
      status, isdelete, created_time, 
      updated_time, latitude, longitude
      )
    values (#{id,jdbcType=VARCHAR}, #{name,jdbcType=VARCHAR}, #{dwid,jdbcType=VARCHAR},
      #{baseName,jdbcType=VARCHAR}, #{shortname,jdbcType=VARCHAR}, #{orgTypeId,jdbcType=VARCHAR}, 
      #{parentId,jdbcType=INTEGER}, #{level,jdbcType=TINYINT}, #{path,jdbcType=VARCHAR}, 
      #{platformId,jdbcType=INTEGER}, #{contact,jdbcType=VARCHAR}, #{provinceId,jdbcType=INTEGER}, 
      #{cityId,jdbcType=INTEGER}, #{townId,jdbcType=INTEGER}, #{address,jdbcType=VARCHAR}, 
      #{mobile,jdbcType=VARCHAR}, #{tel,jdbcType=VARCHAR}, #{fex,jdbcType=VARCHAR}, #{email,jdbcType=VARCHAR}, 
      #{info,jdbcType=VARCHAR}, #{remark,jdbcType=VARCHAR}, #{open,jdbcType=TINYINT}, 
      #{collectionCount,jdbcType=INTEGER}, #{creatorUid,jdbcType=INTEGER}, #{operatorUid,jdbcType=INTEGER}, 
      #{sequence,jdbcType=INTEGER}, #{updatedCount,jdbcType=INTEGER},
      #{status,jdbcType=TINYINT}, #{isdelete,jdbcType=TINYINT}, #{createdTime,jdbcType=TIMESTAMP}, 
      #{updatedTime,jdbcType=TIMESTAMP}, #{latitude,jdbcType=DOUBLE}, #{longitude,jdbcType=DOUBLE}
      )
  </insert>
  <insert id="insertSelective" parameterType="com.tj720.model.common.system.org.MipOrganization" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Aug 09 11:14:20 CST 2017.
    -->
    insert into mip_organization
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        id,
      </if>
      <if test="name != null" >
        name,
      </if>
      <if test="dwid != null" >
        dwid,
      </if>
      <if test="baseName != null" >
        base_name,
      </if>
      <if test="shortname != null" >
        shortname,
      </if>
      <if test="orgTypeId != null" >
        org_type_id,
      </if>
      <if test="parentId != null" >
        parent_id,
      </if>
      <if test="level != null" >
        level,
      </if>
      <if test="path != null" >
        path,
      </if>
      <if test="platformId != null" >
        platform_id,
      </if>
      <if test="contact != null" >
        contact,
      </if>
      <if test="provinceId != null" >
        province_id,
      </if>
      <if test="cityId != null" >
        city_id,
      </if>
      <if test="townId != null" >
        town_id,
      </if>
      <if test="address != null" >
        address,
      </if>
      <if test="mobile != null" >
        mobile,
      </if>
      <if test="tel != null" >
        tel,
      </if>
      <if test="fex != null" >
        fex,
      </if>
      <if test="email != null" >
        email,
      </if>
      <if test="info != null" >
        info,
      </if>
      <if test="remark != null" >
        remark,
      </if>
      <if test="open != null" >
        open,
      </if>
      <if test="collectionCount != null" >
        collection_count,
      </if>
      <if test="creatorUid != null" >
        creator_uid,
      </if>
      <if test="operatorUid != null" >
        operator_uid,
      </if>
      <if test="sequence != null" >
        sequence,
      </if>
      <if test="updatedCount != null" >
        updated_count,
      </if>
      <if test="status != null" >
        status,
      </if>
      <if test="isdelete != null" >
        isdelete,
      </if>
      <if test="createdTime != null" >
        created_time,
      </if>
      <if test="updatedTime != null" >
        updated_time,
      </if>
      <if test="latitude != null" >
        latitude,
      </if>
      <if test="longitude != null" >
        longitude,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        #{id,jdbcType=VARCHAR},
      </if>
      <if test="name != null" >
        #{name,jdbcType=VARCHAR},
      </if>
      <if test="dwid != null" >
        #{dwid,jdbcType=VARCHAR},
      </if>
      <if test="baseName != null" >
        #{baseName,jdbcType=VARCHAR},
      </if>
      <if test="shortname != null" >
        #{shortname,jdbcType=VARCHAR},
      </if>
      <if test="orgTypeId != null" >
        #{orgTypeId,jdbcType=VARCHAR},
      </if>
      <if test="parentId != null" >
        #{parentId,jdbcType=INTEGER},
      </if>
      <if test="level != null" >
        #{level,jdbcType=TINYINT},
      </if>
      <if test="path != null" >
        #{path,jdbcType=VARCHAR},
      </if>
      <if test="platformId != null" >
        #{platformId,jdbcType=INTEGER},
      </if>
      <if test="contact != null" >
        #{contact,jdbcType=VARCHAR},
      </if>
      <if test="provinceId != null" >
        #{provinceId,jdbcType=INTEGER},
      </if>
      <if test="cityId != null" >
        #{cityId,jdbcType=INTEGER},
      </if>
      <if test="townId != null" >
        #{townId,jdbcType=INTEGER},
      </if>
      <if test="address != null" >
        #{address,jdbcType=VARCHAR},
      </if>
      <if test="mobile != null" >
        #{mobile,jdbcType=VARCHAR},
      </if>
      <if test="tel != null" >
        #{tel,jdbcType=VARCHAR},
      </if>
      <if test="fex != null" >
        #{fex,jdbcType=VARCHAR},
      </if>
      <if test="email != null" >
        #{email,jdbcType=VARCHAR},
      </if>
      <if test="info != null" >
        #{info,jdbcType=VARCHAR},
      </if>
      <if test="remark != null" >
        #{remark,jdbcType=VARCHAR},
      </if>
      <if test="open != null" >
        #{open,jdbcType=TINYINT},
      </if>
      <if test="collectionCount != null" >
        #{collectionCount,jdbcType=INTEGER},
      </if>
      <if test="creatorUid != null" >
        #{creatorUid,jdbcType=INTEGER},
      </if>
      <if test="operatorUid != null" >
        #{operatorUid,jdbcType=INTEGER},
      </if>
      <if test="sequence != null" >
        #{sequence,jdbcType=INTEGER},
      </if>
      <if test="updatedCount != null" >
        #{updatedCount,jdbcType=INTEGER},
      </if>
      <if test="status != null" >
        #{status,jdbcType=TINYINT},
      </if>
      <if test="isdelete != null" >
        #{isdelete,jdbcType=TINYINT},
      </if>
      <if test="createdTime != null" >
        #{createdTime,jdbcType=TIMESTAMP},
      </if>
      <if test="updatedTime != null" >
        #{updatedTime,jdbcType=TIMESTAMP},
      </if>
      <if test="latitude != null" >
        #{latitude,jdbcType=DOUBLE},
      </if>
      <if test="longitude != null" >
        #{longitude,jdbcType=DOUBLE},
      </if>
    </trim>
  </insert>
  <!--<select id="countByExample" parameterType="com.tj720.model.common.system.org.MipOrganizationExample" resultType="java.lang.Integer" >-->
    <!--&lt;!&ndash;-->
      <!--WARNING - @mbggenerated-->
      <!--This element is automatically generated by MyBatis Generator, do not modify.-->
      <!--This element was generated on Wed Aug 09 11:14:20 CST 2017.-->
    <!--&ndash;&gt;-->
    <!--select count(*) from mip_organization-->
    <!--<if test="_parameter != null" >-->
      <!--<include refid="Example_Where_Clause" />-->
    <!--</if>-->
  <!--</select>-->
  <!--<update id="updateByExampleSelective" parameterType="map" >-->
    <!--&lt;!&ndash;-->
      <!--WARNING - @mbggenerated-->
      <!--This element is automatically generated by MyBatis Generator, do not modify.-->
      <!--This element was generated on Wed Aug 09 11:14:20 CST 2017.-->
    <!--&ndash;&gt;-->
    <!--update mip_organization-->
    <!--<set >-->
      <!--<if test="record.id != null" >-->
        <!--id = #{record.id,jdbcType=VARCHAR},-->
      <!--</if>-->
      <!--<if test="record.name != null" >-->
        <!--name = #{record.name,jdbcType=VARCHAR},-->
      <!--</if>-->
      <!--<if test="record.dwid != null" >-->
        <!--dwid = #{record.dwid,jdbcType=VARCHAR},-->
      <!--</if>-->
      <!--<if test="record.baseName != null" >-->
        <!--base_name = #{record.baseName,jdbcType=VARCHAR},-->
      <!--</if>-->
      <!--<if test="record.shortname != null" >-->
        <!--shortname = #{record.shortname,jdbcType=VARCHAR},-->
      <!--</if>-->
      <!--<if test="record.orgTypeId != null" >-->
        <!--org_type_id = #{record.orgTypeId,jdbcType=VARCHAR},-->
      <!--</if>-->
      <!--<if test="record.parentId != null" >-->
        <!--parent_id = #{record.parentId,jdbcType=INTEGER},-->
      <!--</if>-->
      <!--<if test="record.level != null" >-->
        <!--level = #{record.level,jdbcType=TINYINT},-->
      <!--</if>-->
      <!--<if test="record.path != null" >-->
        <!--path = #{record.path,jdbcType=VARCHAR},-->
      <!--</if>-->
      <!--<if test="record.platformId != null" >-->
        <!--platform_id = #{record.platformId,jdbcType=INTEGER},-->
      <!--</if>-->
      <!--<if test="record.contact != null" >-->
        <!--contact = #{record.contact,jdbcType=VARCHAR},-->
      <!--</if>-->
      <!--<if test="record.provinceId != null" >-->
        <!--province_id = #{record.provinceId,jdbcType=INTEGER},-->
      <!--</if>-->
      <!--<if test="record.cityId != null" >-->
        <!--city_id = #{record.cityId,jdbcType=INTEGER},-->
      <!--</if>-->
      <!--<if test="record.townId != null" >-->
        <!--town_id = #{record.townId,jdbcType=INTEGER},-->
      <!--</if>-->
      <!--<if test="record.address != null" >-->
        <!--address = #{record.address,jdbcType=VARCHAR},-->
      <!--</if>-->
      <!--<if test="record.mobile != null" >-->
        <!--mobile = #{record.mobile,jdbcType=VARCHAR},-->
      <!--</if>-->
      <!--<if test="record.tel != null" >-->
        <!--tel = #{record.tel,jdbcType=VARCHAR},-->
      <!--</if>-->
      <!--<if test="record.fex != null" >-->
        <!--fex = #{record.fex,jdbcType=VARCHAR},-->
      <!--</if>-->
      <!--<if test="record.email != null" >-->
        <!--email = #{record.email,jdbcType=VARCHAR},-->
      <!--</if>-->
      <!--<if test="record.info != null" >-->
        <!--info = #{record.info,jdbcType=VARCHAR},-->
      <!--</if>-->
      <!--<if test="record.remark != null" >-->
        <!--remark = #{record.remark,jdbcType=VARCHAR},-->
      <!--</if>-->
      <!--<if test="record.open != null" >-->
        <!--open = #{record.open,jdbcType=TINYINT},-->
      <!--</if>-->
      <!--<if test="record.collectionCount != null" >-->
        <!--collection_count = #{record.collectionCount,jdbcType=INTEGER},-->
      <!--</if>-->
      <!--<if test="record.creatorUid != null" >-->
        <!--creator_uid = #{record.creatorUid,jdbcType=INTEGER},-->
      <!--</if>-->
      <!--<if test="record.operatorUid != null" >-->
        <!--operator_uid = #{record.operatorUid,jdbcType=INTEGER},-->
      <!--</if>-->
      <!--<if test="record.sequence != null" >-->
        <!--sequence = #{record.sequence,jdbcType=INTEGER},-->
      <!--</if>-->
      <!--<if test="record.updatedCount != null" >-->
        <!--updated_count = #{record.updatedCount,jdbcType=INTEGER},-->
      <!--</if>-->
      <!--<if test="record.status != null" >-->
        <!--status = #{record.status,jdbcType=TINYINT},-->
      <!--</if>-->
      <!--<if test="record.isdelete != null" >-->
        <!--isdelete = #{record.isdelete,jdbcType=TINYINT},-->
      <!--</if>-->
      <!--<if test="record.createdTime != null" >-->
        <!--created_time = #{record.createdTime,jdbcType=TIMESTAMP},-->
      <!--</if>-->
      <!--<if test="record.updatedTime != null" >-->
        <!--updated_time = #{record.updatedTime,jdbcType=TIMESTAMP},-->
      <!--</if>-->
      <!--<if test="record.latitude != null" >-->
        <!--latitude = #{record.latitude,jdbcType=DOUBLE},-->
      <!--</if>-->
      <!--<if test="record.longitude != null" >-->
        <!--longitude = #{record.longitude,jdbcType=DOUBLE},-->
      <!--</if>-->
    <!--</set>-->
    <!--<if test="_parameter != null" >-->
      <!--<include refid="Update_By_Example_Where_Clause" />-->
    <!--</if>-->
  <!--</update>-->
  <!--<update id="updateByExample" parameterType="map" >-->
    <!--&lt;!&ndash;-->
      <!--WARNING - @mbggenerated-->
      <!--This element is automatically generated by MyBatis Generator, do not modify.-->
      <!--This element was generated on Wed Aug 09 11:14:20 CST 2017.-->
    <!--&ndash;&gt;-->
    <!--update mip_organization-->
    <!--set id = #{record.id,jdbcType=VARCHAR},-->
      <!--name = #{record.name,jdbcType=VARCHAR},-->
      <!--dwid = #{record.dwid,jdbcType=VARCHAR},-->
      <!--base_name = #{record.baseName,jdbcType=VARCHAR},-->
      <!--shortname = #{record.shortname,jdbcType=VARCHAR},-->
      <!--org_type_id = #{record.orgTypeId,jdbcType=VARCHAR},-->
      <!--parent_id = #{record.parentId,jdbcType=INTEGER},-->
      <!--level = #{record.level,jdbcType=TINYINT},-->
      <!--path = #{record.path,jdbcType=VARCHAR},-->
      <!--platform_id = #{record.platformId,jdbcType=INTEGER},-->
      <!--contact = #{record.contact,jdbcType=VARCHAR},-->
      <!--province_id = #{record.provinceId,jdbcType=INTEGER},-->
      <!--city_id = #{record.cityId,jdbcType=INTEGER},-->
      <!--town_id = #{record.townId,jdbcType=INTEGER},-->
      <!--address = #{record.address,jdbcType=VARCHAR},-->
      <!--mobile = #{record.mobile,jdbcType=VARCHAR},-->
      <!--tel = #{record.tel,jdbcType=VARCHAR},-->
      <!--fex = #{record.fex,jdbcType=VARCHAR},-->
      <!--email = #{record.email,jdbcType=VARCHAR},-->
      <!--info = #{record.info,jdbcType=VARCHAR},-->
      <!--remark = #{record.remark,jdbcType=VARCHAR},-->
      <!--open = #{record.open,jdbcType=TINYINT},-->
      <!--collection_count = #{record.collectionCount,jdbcType=INTEGER},-->
      <!--creator_uid = #{record.creatorUid,jdbcType=INTEGER},-->
      <!--operator_uid = #{record.operatorUid,jdbcType=INTEGER},-->
      <!--sequence = #{record.sequence,jdbcType=INTEGER},-->
      <!--updated_count = #{record.updatedCount,jdbcType=INTEGER},-->
      <!--status = #{record.status,jdbcType=TINYINT},-->
      <!--isdelete = #{record.isdelete,jdbcType=TINYINT},-->
      <!--created_time = #{record.createdTime,jdbcType=TIMESTAMP},-->
      <!--updated_time = #{record.updatedTime,jdbcType=TIMESTAMP},-->
      <!--latitude = #{record.latitude,jdbcType=DOUBLE},-->
      <!--longitude = #{record.longitude,jdbcType=DOUBLE}-->
    <!--<if test="_parameter != null" >-->
      <!--<include refid="Update_By_Example_Where_Clause" />-->
    <!--</if>-->
  <!--</update>-->
  <update id="updateByPrimaryKeySelective" parameterType="com.tj720.model.common.system.org.MipOrganization" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Aug 09 11:14:20 CST 2017.
    -->
    update mip_organization
    <set >
      <if test="name != null" >
        name = #{name,jdbcType=VARCHAR},
      </if>
      <if test="dwid != null" >
        dwid = #{dwid,jdbcType=VARCHAR},
      </if>
      <if test="baseName != null" >
        base_name = #{baseName,jdbcType=VARCHAR},
      </if>
      <if test="shortname != null" >
        shortname = #{shortname,jdbcType=VARCHAR},
      </if>
      <if test="orgTypeId != null" >
        org_type_id = #{orgTypeId,jdbcType=VARCHAR},
      </if>
      <if test="parentId != null" >
        parent_id = #{parentId,jdbcType=INTEGER},
      </if>
      <if test="level != null" >
        level = #{level,jdbcType=TINYINT},
      </if>
      <if test="path != null" >
        path = #{path,jdbcType=VARCHAR},
      </if>
      <if test="platformId != null" >
        platform_id = #{platformId,jdbcType=INTEGER},
      </if>
      <if test="contact != null" >
        contact = #{contact,jdbcType=VARCHAR},
      </if>
      <if test="provinceId != null" >
        province_id = #{provinceId,jdbcType=INTEGER},
      </if>
      <if test="cityId != null" >
        city_id = #{cityId,jdbcType=INTEGER},
      </if>
      <if test="townId != null" >
        town_id = #{townId,jdbcType=INTEGER},
      </if>
      <if test="address != null" >
        address = #{address,jdbcType=VARCHAR},
      </if>
      <if test="mobile != null" >
        mobile = #{mobile,jdbcType=VARCHAR},
      </if>
      <if test="tel != null" >
        tel = #{tel,jdbcType=VARCHAR},
      </if>
      <if test="fex != null" >
        fex = #{fex,jdbcType=VARCHAR},
      </if>
      <if test="email != null" >
        email = #{email,jdbcType=VARCHAR},
      </if>
      <if test="info != null" >
        info = #{info,jdbcType=VARCHAR},
      </if>
      <if test="remark != null" >
        remark = #{remark,jdbcType=VARCHAR},
      </if>
      <if test="open != null" >
        open = #{open,jdbcType=TINYINT},
      </if>
      <if test="collectionCount != null" >
        collection_count = #{collectionCount,jdbcType=INTEGER},
      </if>
      <if test="creatorUid != null" >
        creator_uid = #{creatorUid,jdbcType=INTEGER},
      </if>
      <if test="operatorUid != null" >
        operator_uid = #{operatorUid,jdbcType=INTEGER},
      </if>
      <if test="sequence != null" >
        sequence = #{sequence,jdbcType=INTEGER},
      </if>
      <if test="updatedCount != null" >
        updated_count = #{updatedCount,jdbcType=INTEGER},
      </if>
      <if test="status != null" >
        status = #{status,jdbcType=TINYINT},
      </if>
      <if test="isdelete != null" >
        isdelete = #{isdelete,jdbcType=TINYINT},
      </if>
      <if test="createdTime != null" >
        created_time = #{createdTime,jdbcType=TIMESTAMP},
      </if>
      <if test="updatedTime != null" >
        updated_time = #{updatedTime,jdbcType=TIMESTAMP},
      </if>
      <if test="latitude != null" >
        latitude = #{latitude,jdbcType=DOUBLE},
      </if>
      <if test="longitude != null" >
        longitude = #{longitude,jdbcType=DOUBLE},
      </if>
    </set>
    where id = #{id,jdbcType=VARCHAR}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.tj720.model.common.system.org.MipOrganization" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Aug 09 11:14:20 CST 2017.
    -->
    update mip_organization
    set name = #{name,jdbcType=VARCHAR},
      dwid = #{dwid,jdbcType=VARCHAR},
      base_name = #{baseName,jdbcType=VARCHAR},
      shortname = #{shortname,jdbcType=VARCHAR},
      org_type_id = #{orgTypeId,jdbcType=VARCHAR},
      parent_id = #{parentId,jdbcType=INTEGER},
      level = #{level,jdbcType=TINYINT},
      path = #{path,jdbcType=VARCHAR},
      platform_id = #{platformId,jdbcType=INTEGER},
      contact = #{contact,jdbcType=VARCHAR},
      province_id = #{provinceId,jdbcType=INTEGER},
      city_id = #{cityId,jdbcType=INTEGER},
      town_id = #{townId,jdbcType=INTEGER},
      address = #{address,jdbcType=VARCHAR},
      mobile = #{mobile,jdbcType=VARCHAR},
      tel = #{tel,jdbcType=VARCHAR},
      fex = #{fex,jdbcType=VARCHAR},
      email = #{email,jdbcType=VARCHAR},
      info = #{info,jdbcType=VARCHAR},
      remark = #{remark,jdbcType=VARCHAR},
      open = #{open,jdbcType=TINYINT},
      collection_count = #{collectionCount,jdbcType=INTEGER},
      creator_uid = #{creatorUid,jdbcType=INTEGER},
      operator_uid = #{operatorUid,jdbcType=INTEGER},
      sequence = #{sequence,jdbcType=INTEGER},
      updated_count = #{updatedCount,jdbcType=INTEGER},
      status = #{status,jdbcType=TINYINT},
      isdelete = #{isdelete,jdbcType=TINYINT},
      created_time = #{createdTime,jdbcType=TIMESTAMP},
      updated_time = #{updatedTime,jdbcType=TIMESTAMP},
      latitude = #{latitude,jdbcType=DOUBLE},
      longitude = #{longitude,jdbcType=DOUBLE}
    where id = #{id,jdbcType=VARCHAR}
  </update>
  
  <select id="getList" resultMap="BaseResultMap">
  	select
  	<include refid="Base_Column_List"/>
  	from mip_organization
  	where
  	status = 1
  	and parent_id &gt;= 0
  </select>
  
   <resultMap id="PageListMap" type="com.tj720.model.common.system.org.MipOrganization" >
  </resultMap>
  <select id="getPageList" resultMap="PageListMap">
  	select a.id as id ,a.name as name, a.base_name as baseName ,a.platform_id as platformId ,b.name as parentId 	
  	from mip_organization a ,mip_organization b
  	where a.status = 1 and b.status = 1
  	and a.parent_id = b.id 
  	<if test="key != null and key != ''">
  		and a.name like concat('%',#{key},'%')
  	</if>
  	<if test="orgTypeId != null and orgTypeId != ''">
  		and a.org_type_id = #{orgTypeId}
  	</if>
  	<if test="platformId != null and platformId != ''">
  		and a.platform_id = #{platformId}
  	</if>
  	order by a.org_type_id
  	<if test=" startRow == -1">
		limit #{pageSize}
	</if>
	<if test=" startRow != -1">
		limit #{startRow},#{pageSize}
	</if>
  </select>
  <select id="countPageList" resultType="java.lang.Integer">
  	select count(*)	
  	from mip_organization a ,mip_organization b
  	where a.status = 1 and b.status = 1
  	and a.parent_id = b.id 
  	<if test="key != null and key != ''">
  		and a.name like concat('%',#{key},'%')
  	</if>
  	<if test="orgTypeId != null and orgTypeId != ''">
  		and a.org_type_id = #{orgTypeId}
  	</if>
  	<if test="platformId != null and platformId != ''">
  		and a.platform_id = #{platformId}
  	</if>
  </select>
  
  <select id="getListByProvince" resultMap="BaseResultMap" parameterType="java.lang.String">
  	select
	  	a.id, a.name, a.dwid, a.base_name, a.shortname, a.org_type_id, a.parent_id, a.level, a.path, a.platform_id, 
	    a.contact, b.province as province_id, b.city as city_id, b.area as town_id, b.detail_address as address, a.mobile, b.phone as tel, b.fax as fex, b.mailbox as email, a.info, a.remark, 
	    a.open, a.collection_count, a.creator_uid, a.operator_uid, a.sequence, a.updated_count,
	    a.status, a.isdelete, a.created_time, a.updated_time, a.latitude, a.longitude
  	from mip_organization a
  		left join bj_museum_base_info b on(b.museum_id=a.id and b.del_flag='2')
  	where 1=1
  	<![CDATA[
  		and a.status <> -127
  		and a.parent_id is not null
  	]]>
<!--   		and a.parent_id <> '' -->
  	<if test="key != null and key != ''">
  	and a.name like concat('%',#{key},'%')
  	</if>
  	<if test="province != null and province != ''">
  	and b.province = #{province}
  	</if>
  	<if test="city != null and city != ''">
  	and b.city = #{city}
  	</if>
  	<if test="town != null and town != ''">
  	and b.area = #{town}
  	</if>
  	<if test="orgTypeId != null and orgTypeId != ''">
  	and a.org_type_id = #{orgTypeId}
  	</if>
  </select>
  
  <select id="getMuseumList" resultMap="BaseResultMap">
  	select 
  	<include refid="Base_Column_List" />
    from mip_organization
    where 
  	org_type_id = 3
  	and status = 1
  	and parent_id &gt;= 0
  </select>

  <select id="getOrgs" resultType="java.lang.String">
  	  select id 
  	  from mip_organization 
  	  where 1=1
  	  and status = 1
  	  <!-- 直属馆的 platform_id=1 -->
  	  and platform_id = 1
  </select>
  <select id="getMuseumListByAreaId" resultMap="BaseResultMap" parameterType="java.lang.String">
  	  select a.id ,a.name
  	  from mip_organization a, bj_museum_base_info b where 
  	  b.museum_id=a.id and b.del_flag='2' and b.area = #{areaId}
  </select>

  <select id="countOrgList" parameterType="java.util.Map" resultType="java.lang.Integer">
    select count(1)
    from mip_organization
    where 1 = 1
    <if test="key != null and key != ''">
      and name like concat('%',#{key},'%')
    </if>
    <if test="orgTypeId != null and orgTypeId != ''">
      and org_type_id = #{orgTypeId}
    </if>
    and isdelete = 0

  </select>

  <select id="getOrgInfoList" parameterType="java.util.Map" resultMap="BaseResultMap">
    SELECT 
    <include refid="Base_Column_List"/>
    from mip_organization
    where 1 = 1
    <if test="key != null and key != ''">
      and name like concat('%',#{key},'%')
    </if>
    <if test="orgTypeId != null and orgTypeId != ''">
      and org_type_id = #{orgTypeId}
    </if>
    and isdelete = 0
    order by updated_time desc
    limit #{start},#{end}
  </select>
  
</mapper>