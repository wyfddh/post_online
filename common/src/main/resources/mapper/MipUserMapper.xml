<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.tj720.dao.MipUserMapper" >
  <resultMap id="BaseResultMap" type="com.tj720.model.common.system.user.MipUser" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Aug 09 11:14:20 CST 2017.
    -->
    <id column="id" property="id" jdbcType="VARCHAR" />
    <result column="org_id" property="orgId" jdbcType="VARCHAR" />
    <result column="password" property="password" jdbcType="VARCHAR" />
    <result column="phone" property="phone" jdbcType="VARCHAR" />
    <result column="qq_openid" property="qqOpenid" jdbcType="VARCHAR" />
    <result column="weixin_unionid" property="weixinUnionid" jdbcType="VARCHAR" />
    <result column="email" property="email" jdbcType="VARCHAR" />
    <result column="sex" property="sex" jdbcType="TINYINT" />
    <result column="nick_name" property="nickName" jdbcType="VARCHAR" />
    <result column="name" property="name" jdbcType="VARCHAR" />
    <result column="avatarUrl" property="avatarurl" jdbcType="VARCHAR" />
    <result column="area_id" property="areaId" jdbcType="VARCHAR" />
    <result column="birthday" property="birthday" jdbcType="DATE" />
    <result column="province" property="province" jdbcType="INTEGER" />
    <result column="city" property="city" jdbcType="INTEGER" />
    <result column="county" property="county" jdbcType="INTEGER" />
    <result column="job" property="job" jdbcType="VARCHAR" />
    <result column="tags" property="tags" jdbcType="INTEGER" />
    <result column="create_time" property="createTime" jdbcType="INTEGER" />
    <result column="login_times" property="loginTimes" jdbcType="INTEGER" />
    <result column="last_login_time" property="lastLoginTime" jdbcType="INTEGER" />
    <result column="createTime" property="createtime" jdbcType="TIMESTAMP" />
    <result column="status" property="status" jdbcType="TINYINT" />
    <result column="sequence" property="sequence" jdbcType="INTEGER" />
    <result column="login_type" property="loginType" jdbcType="INTEGER" />
    <result column="isdelete" property="isdelete" jdbcType="TINYINT" />
  </resultMap>
  <resultMap id="ResultMapWithBLOBs" type="com.tj720.model.common.system.user.MipUser" extends="BaseResultMap" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Aug 09 11:14:20 CST 2017.
    -->
    <result column="description" property="description" jdbcType="LONGVARCHAR" />
  </resultMap>
  <resultMap type="com.tj720.model.common.system.user.MipUserDto" id="ResultMap">
  	<id column="id" property="id" jdbcType="VARCHAR" />
    <result column="org_id" property="orgId" jdbcType="VARCHAR" />
    <result column="password" property="password" jdbcType="VARCHAR" />
    <result column="phone" property="phone" jdbcType="VARCHAR" />
    <result column="qq_openid" property="qqOpenid" jdbcType="VARCHAR" />
    <result column="weixin_unionid" property="weixinUnionid" jdbcType="VARCHAR" />
    <result column="email" property="email" jdbcType="VARCHAR" />
    <result column="sex" property="sex" jdbcType="TINYINT" />
    <result column="nick_name" property="nickName" jdbcType="VARCHAR" />
    <result column="name" property="name" jdbcType="VARCHAR" />
    <result column="avatarUrl" property="avatarurl" jdbcType="VARCHAR" />
    <result column="area_id" property="areaId" jdbcType="VARCHAR" />
    <result column="birthday" property="birthday" jdbcType="DATE" />
    <result column="province" property="province" jdbcType="INTEGER" />
    <result column="city" property="city" jdbcType="INTEGER" />
    <result column="county" property="county" jdbcType="INTEGER" />
    <result column="job" property="job" jdbcType="VARCHAR" />
    <result column="tags" property="tags" jdbcType="INTEGER" />
    <result column="create_time" property="createTime" jdbcType="INTEGER" />
    <result column="login_times" property="loginTimes" jdbcType="INTEGER" />
    <result column="last_login_time" property="lastLoginTime" jdbcType="INTEGER" />
    <result column="createTime" property="createtime" jdbcType="TIMESTAMP" />
    <result column="status" property="status" jdbcType="TINYINT" />
    <result column="sequence" property="sequence" jdbcType="INTEGER" />
    <result column="login_type" property="loginType" jdbcType="INTEGER" />
    <result column="isdelete" property="isdelete" jdbcType="TINYINT" />
    <result column="b_name" property="museunName" jdbcType="VARCHAR" />
  </resultMap>
  <resultMap type="com.tj720.model.common.system.user.MipUserDto" id="RoleResultMap">
  	<id column="id" property="id" jdbcType="VARCHAR" />
  	<result column="name" property="roleName" jdbcType="VARCHAR" />
  </resultMap>
  <!--<sql id="Example_Where_Clause" >-->
    <!--&lt;!&ndash;-->
      <!--WARNING - @mbggenerated-->
      <!--This element is automatically generated by MyBatis Generator, do not modify.-->
      <!--This element was generated on Wed Aug 09 11:14:20 CST 2017.-->
    <!--&ndash;&gt;-->
    <!--<where >-->
      <!--<foreach collection="oredCriteria" item="criteria" separator="or" >-->
        <!--<if test="criteria.valid" >-->
          <!--<trim prefix="(" suffix=")" prefixOverrides="and" >-->
            <!--<foreach collection="criteria.criteria" item="criterion" >-->
              <!--<choose >-->
                <!--<when test="criterion.noValue" >-->
                  <!--and ${criterion.condition}-->
                <!--</when>-->
                <!--<when test="criterion.singleValue" >-->
                  <!--and ${criterion.condition} #{criterion.value}-->
                <!--</when>-->
                <!--<when test="criterion.betweenValue" >-->
                  <!--and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}-->
                <!--</when>-->
                <!--<when test="criterion.listValue" >-->
                  <!--and ${criterion.condition}-->
                  <!--<foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >-->
                    <!--#{listItem}-->
                  <!--</foreach>-->
                <!--</when>-->
              <!--</choose>-->
            <!--</foreach>-->
          <!--</trim>-->
        <!--</if>-->
      <!--</foreach>-->
    <!--</where>-->
  <!--</sql>-->
  <!--<sql id="Update_By_Example_Where_Clause" >-->
    <!--&lt;!&ndash;-->
      <!--WARNING - @mbggenerated-->
      <!--This element is automatically generated by MyBatis Generator, do not modify.-->
      <!--This element was generated on Wed Aug 09 11:14:20 CST 2017.-->
    <!--&ndash;&gt;-->
    <!--<where >-->
      <!--<foreach collection="example.oredCriteria" item="criteria" separator="or" >-->
        <!--<if test="criteria.valid" >-->
          <!--<trim prefix="(" suffix=")" prefixOverrides="and" >-->
            <!--<foreach collection="criteria.criteria" item="criterion" >-->
              <!--<choose >-->
                <!--<when test="criterion.noValue" >-->
                  <!--and ${criterion.condition}-->
                <!--</when>-->
                <!--<when test="criterion.singleValue" >-->
                  <!--and ${criterion.condition} #{criterion.value}-->
                <!--</when>-->
                <!--<when test="criterion.betweenValue" >-->
                  <!--and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}-->
                <!--</when>-->
                <!--<when test="criterion.listValue" >-->
                  <!--and ${criterion.condition}-->
                  <!--<foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >-->
                    <!--#{listItem}-->
                  <!--</foreach>-->
                <!--</when>-->
              <!--</choose>-->
            <!--</foreach>-->
          <!--</trim>-->
        <!--</if>-->
      <!--</foreach>-->
    <!--</where>-->
  <!--</sql>-->
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Aug 09 11:14:20 CST 2017.
    -->
    id, org_id, password, phone, qq_openid, weixin_unionid, email, sex, nick_name, name, 
    avatarUrl, area_id, birthday, province, city, county, job, tags, create_time, login_times, 
    last_login_time, createTime, status, sequence, login_type, isdelete
  </sql>
  <sql id="Blob_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Aug 09 11:14:20 CST 2017.
    -->
    description
  </sql>
  <!--<select id="selectByExampleWithBLOBs" resultMap="ResultMapWithBLOBs" parameterType="com.tj720.model.common.system.user.MipUserExample" >-->
    <!--&lt;!&ndash;-->
      <!--WARNING - @mbggenerated-->
      <!--This element is automatically generated by MyBatis Generator, do not modify.-->
      <!--This element was generated on Wed Aug 09 11:14:20 CST 2017.-->
    <!--&ndash;&gt;-->
    <!--select-->
    <!--<if test="distinct" >-->
      <!--distinct-->
    <!--</if>-->
    <!--<include refid="Base_Column_List" />-->
    <!--,-->
    <!--<include refid="Blob_Column_List" />-->
    <!--from mip_user-->
    <!--<if test="_parameter != null" >-->
      <!--<include refid="Example_Where_Clause" />-->
    <!--</if>-->
    <!--<if test="orderByClause != null" >-->
      <!--order by ${orderByClause}-->
    <!--</if>-->
  <!--</select>-->
  <!--<select id="selectByExample" resultMap="BaseResultMap" parameterType="com.tj720.model.common.system.user.MipUserExample" >-->
    <!--&lt;!&ndash;-->
      <!--WARNING - @mbggenerated-->
      <!--This element is automatically generated by MyBatis Generator, do not modify.-->
      <!--This element was generated on Wed Aug 09 11:14:20 CST 2017.-->
    <!--&ndash;&gt;-->
    <!--select-->
    <!--<if test="distinct" >-->
      <!--distinct-->
    <!--</if>-->
    <!--<include refid="Base_Column_List" />-->
    <!--from mip_user-->
    <!--<if test="_parameter != null" >-->
      <!--<include refid="Example_Where_Clause" />-->
    <!--</if>-->
    <!--<if test="orderByClause != null" >-->
      <!--order by ${orderByClause}-->
    <!--</if>-->
  <!--</select>-->
  <select id="selectByPrimaryKey" resultMap="ResultMapWithBLOBs" parameterType="java.lang.String" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Aug 09 11:14:20 CST 2017.
    -->
    select 
    <include refid="Base_Column_List" />
    ,
    <include refid="Blob_Column_List" />
    from mip_user
    where id = #{id,jdbcType=VARCHAR}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Aug 09 11:14:20 CST 2017.
    -->
    delete from mip_user
    where id = #{id,jdbcType=VARCHAR}
  </delete>
  <!--<delete id="deleteByExample" parameterType="com.tj720.model.common.system.user.MipUserExample" >-->
    <!--&lt;!&ndash;-->
      <!--WARNING - @mbggenerated-->
      <!--This element is automatically generated by MyBatis Generator, do not modify.-->
      <!--This element was generated on Wed Aug 09 11:14:20 CST 2017.-->
    <!--&ndash;&gt;-->
    <!--delete from mip_user-->
    <!--<if test="_parameter != null" >-->
      <!--<include refid="Example_Where_Clause" />-->
    <!--</if>-->
  <!--</delete>-->
  <insert id="insert" parameterType="com.tj720.model.common.system.user.MipUser" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Aug 09 11:14:20 CST 2017.
    -->
    insert into mip_user (id, org_id, password, 
      phone, qq_openid, weixin_unionid, 
      email, sex, nick_name, 
      name, avatarUrl, area_id, 
      birthday, province, city, 
      county, job, tags, 
      create_time, login_times, last_login_time, 
      createTime, status, sequence, 
      login_type, isdelete, description
      )
    values (#{id,jdbcType=VARCHAR}, #{orgId,jdbcType=VARCHAR}, #{password,jdbcType=VARCHAR}, 
      #{phone,jdbcType=VARCHAR}, #{qqOpenid,jdbcType=VARCHAR}, #{weixinUnionid,jdbcType=VARCHAR}, 
      #{email,jdbcType=VARCHAR}, #{sex,jdbcType=TINYINT}, #{nickName,jdbcType=VARCHAR}, 
      #{name,jdbcType=VARCHAR}, #{avatarurl,jdbcType=VARCHAR}, #{areaId,jdbcType=VARCHAR}, 
      #{birthday,jdbcType=DATE}, #{province,jdbcType=INTEGER}, #{city,jdbcType=INTEGER}, 
      #{county,jdbcType=INTEGER}, #{job,jdbcType=VARCHAR}, #{tags,jdbcType=INTEGER}, 
      #{createTime,jdbcType=INTEGER}, #{loginTimes,jdbcType=INTEGER}, #{lastLoginTime,jdbcType=INTEGER}, 
      #{createtime,jdbcType=TIMESTAMP}, #{status,jdbcType=TINYINT}, #{sequence,jdbcType=INTEGER}, 
      #{loginType,jdbcType=INTEGER}, #{isdelete,jdbcType=TINYINT}, #{description,jdbcType=LONGVARCHAR}
      )
  </insert>
  <insert id="insertSelective" parameterType="com.tj720.model.common.system.user.MipUser" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Aug 09 11:14:20 CST 2017.
    -->
    insert into mip_user
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        id,
      </if>
      <if test="orgId != null" >
        org_id,
      </if>
      <if test="password != null" >
        password,
      </if>
      <if test="phone != null" >
        phone,
      </if>
      <if test="qqOpenid != null" >
        qq_openid,
      </if>
      <if test="weixinUnionid != null" >
        weixin_unionid,
      </if>
      <if test="email != null" >
        email,
      </if>
      <if test="sex != null" >
        sex,
      </if>
      <if test="nickName != null" >
        nick_name,
      </if>
      <if test="name != null" >
        name,
      </if>
      <if test="avatarurl != null" >
        avatarUrl,
      </if>
      <if test="areaId != null" >
        area_id,
      </if>
      <if test="birthday != null" >
        birthday,
      </if>
      <if test="province != null" >
        province,
      </if>
      <if test="city != null" >
        city,
      </if>
      <if test="county != null" >
        county,
      </if>
      <if test="job != null" >
        job,
      </if>
      <if test="tags != null" >
        tags,
      </if>
      <if test="createTime != null" >
        create_time,
      </if>
      <if test="loginTimes != null" >
        login_times,
      </if>
      <if test="lastLoginTime != null" >
        last_login_time,
      </if>
      <if test="createtime != null" >
        createTime,
      </if>
      <if test="status != null" >
        status,
      </if>
      <if test="sequence != null" >
        sequence,
      </if>
      <if test="loginType != null" >
        login_type,
      </if>
      <if test="isdelete != null" >
        isdelete,
      </if>
      <if test="description != null" >
        description,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        #{id,jdbcType=VARCHAR},
      </if>
      <if test="orgId != null" >
        #{orgId,jdbcType=VARCHAR},
      </if>
      <if test="password != null" >
        #{password,jdbcType=VARCHAR},
      </if>
      <if test="phone != null" >
        #{phone,jdbcType=VARCHAR},
      </if>
      <if test="qqOpenid != null" >
        #{qqOpenid,jdbcType=VARCHAR},
      </if>
      <if test="weixinUnionid != null" >
        #{weixinUnionid,jdbcType=VARCHAR},
      </if>
      <if test="email != null" >
        #{email,jdbcType=VARCHAR},
      </if>
      <if test="sex != null" >
        #{sex,jdbcType=TINYINT},
      </if>
      <if test="nickName != null" >
        #{nickName,jdbcType=VARCHAR},
      </if>
      <if test="name != null" >
        #{name,jdbcType=VARCHAR},
      </if>
      <if test="avatarurl != null" >
        #{avatarurl,jdbcType=VARCHAR},
      </if>
      <if test="areaId != null" >
        #{areaId,jdbcType=VARCHAR},
      </if>
      <if test="birthday != null" >
        #{birthday,jdbcType=DATE},
      </if>
      <if test="province != null" >
        #{province,jdbcType=INTEGER},
      </if>
      <if test="city != null" >
        #{city,jdbcType=INTEGER},
      </if>
      <if test="county != null" >
        #{county,jdbcType=INTEGER},
      </if>
      <if test="job != null" >
        #{job,jdbcType=VARCHAR},
      </if>
      <if test="tags != null" >
        #{tags,jdbcType=INTEGER},
      </if>
      <if test="createTime != null" >
        #{createTime,jdbcType=INTEGER},
      </if>
      <if test="loginTimes != null" >
        #{loginTimes,jdbcType=INTEGER},
      </if>
      <if test="lastLoginTime != null" >
        #{lastLoginTime,jdbcType=INTEGER},
      </if>
      <if test="createtime != null" >
        #{createtime,jdbcType=TIMESTAMP},
      </if>
      <if test="status != null" >
        #{status,jdbcType=TINYINT},
      </if>
      <if test="sequence != null" >
        #{sequence,jdbcType=INTEGER},
      </if>
      <if test="loginType != null" >
        #{loginType,jdbcType=INTEGER},
      </if>
      <if test="isdelete != null" >
        #{isdelete,jdbcType=TINYINT},
      </if>
      <if test="description != null" >
        #{description,jdbcType=LONGVARCHAR},
      </if>
    </trim>
  </insert>
  <!--<select id="countByExample" parameterType="com.tj720.model.common.system.user.MipUserExample" resultType="java.lang.Integer" >-->
    <!--&lt;!&ndash;-->
      <!--WARNING - @mbggenerated-->
      <!--This element is automatically generated by MyBatis Generator, do not modify.-->
      <!--This element was generated on Wed Aug 09 11:14:20 CST 2017.-->
    <!--&ndash;&gt;-->
    <!--select count(*) from mip_user-->
    <!--<if test="_parameter != null" >-->
      <!--<include refid="Example_Where_Clause" />-->
    <!--</if>-->
    <!--<if test="nameType==1">-->
    <!--and LENGTH(phone) &lt; 12-->
    <!--</if>-->
    <!--<if test="nameType==2">-->
    <!--and LENGTH(phone) &gt; 12-->
    <!--</if>-->
    <!---->
  <!--</select>-->
  <!--<update id="updateByExampleSelective" parameterType="map" >-->
    <!--&lt;!&ndash;-->
      <!--WARNING - @mbggenerated-->
      <!--This element is automatically generated by MyBatis Generator, do not modify.-->
      <!--This element was generated on Wed Aug 09 11:14:20 CST 2017.-->
    <!--&ndash;&gt;-->
    <!--update mip_user-->
    <!--<set >-->
      <!--<if test="record.id != null" >-->
        <!--id = #{record.id,jdbcType=VARCHAR},-->
      <!--</if>-->
      <!--<if test="record.orgId != null" >-->
        <!--org_id = #{record.orgId,jdbcType=VARCHAR},-->
      <!--</if>-->
      <!--<if test="record.password != null" >-->
        <!--password = #{record.password,jdbcType=VARCHAR},-->
      <!--</if>-->
      <!--<if test="record.phone != null" >-->
        <!--phone = #{record.phone,jdbcType=VARCHAR},-->
      <!--</if>-->
      <!--<if test="record.qqOpenid != null" >-->
        <!--qq_openid = #{record.qqOpenid,jdbcType=VARCHAR},-->
      <!--</if>-->
      <!--<if test="record.weixinUnionid != null" >-->
        <!--weixin_unionid = #{record.weixinUnionid,jdbcType=VARCHAR},-->
      <!--</if>-->
      <!--<if test="record.email != null" >-->
        <!--email = #{record.email,jdbcType=VARCHAR},-->
      <!--</if>-->
      <!--<if test="record.sex != null" >-->
        <!--sex = #{record.sex,jdbcType=TINYINT},-->
      <!--</if>-->
      <!--<if test="record.nickName != null" >-->
        <!--nick_name = #{record.nickName,jdbcType=VARCHAR},-->
      <!--</if>-->
      <!--<if test="record.name != null" >-->
        <!--name = #{record.name,jdbcType=VARCHAR},-->
      <!--</if>-->
      <!--<if test="record.avatarurl != null" >-->
        <!--avatarUrl = #{record.avatarurl,jdbcType=VARCHAR},-->
      <!--</if>-->
      <!--<if test="record.areaId != null" >-->
        <!--area_id = #{record.areaId,jdbcType=VARCHAR},-->
      <!--</if>-->
      <!--<if test="record.birthday != null" >-->
        <!--birthday = #{record.birthday,jdbcType=DATE},-->
      <!--</if>-->
      <!--<if test="record.province != null" >-->
        <!--province = #{record.province,jdbcType=INTEGER},-->
      <!--</if>-->
      <!--<if test="record.city != null" >-->
        <!--city = #{record.city,jdbcType=INTEGER},-->
      <!--</if>-->
      <!--<if test="record.county != null" >-->
        <!--county = #{record.county,jdbcType=INTEGER},-->
      <!--</if>-->
      <!--<if test="record.job != null" >-->
        <!--job = #{record.job,jdbcType=VARCHAR},-->
      <!--</if>-->
      <!--<if test="record.tags != null" >-->
        <!--tags = #{record.tags,jdbcType=INTEGER},-->
      <!--</if>-->
      <!--<if test="record.createTime != null" >-->
        <!--create_time = #{record.createTime,jdbcType=INTEGER},-->
      <!--</if>-->
      <!--<if test="record.loginTimes != null" >-->
        <!--login_times = #{record.loginTimes,jdbcType=INTEGER},-->
      <!--</if>-->
      <!--<if test="record.lastLoginTime != null" >-->
        <!--last_login_time = #{record.lastLoginTime,jdbcType=INTEGER},-->
      <!--</if>-->
      <!--<if test="record.createtime != null" >-->
        <!--createTime = #{record.createtime,jdbcType=TIMESTAMP},-->
      <!--</if>-->
      <!--<if test="record.status != null" >-->
        <!--status = #{record.status,jdbcType=TINYINT},-->
      <!--</if>-->
      <!--<if test="record.sequence != null" >-->
        <!--sequence = #{record.sequence,jdbcType=INTEGER},-->
      <!--</if>-->
      <!--<if test="record.loginType != null" >-->
        <!--login_type = #{record.loginType,jdbcType=INTEGER},-->
      <!--</if>-->
      <!--<if test="record.isdelete != null" >-->
        <!--isdelete = #{record.isdelete,jdbcType=TINYINT},-->
      <!--</if>-->
      <!--<if test="record.description != null" >-->
        <!--description = #{record.description,jdbcType=LONGVARCHAR},-->
      <!--</if>-->
    <!--</set>-->
    <!--<if test="_parameter != null" >-->
      <!--<include refid="Update_By_Example_Where_Clause" />-->
    <!--</if>-->
  <!--</update>-->
  <!--<update id="updateByExampleWithBLOBs" parameterType="map" >-->
    <!--&lt;!&ndash;-->
      <!--WARNING - @mbggenerated-->
      <!--This element is automatically generated by MyBatis Generator, do not modify.-->
      <!--This element was generated on Wed Aug 09 11:14:20 CST 2017.-->
    <!--&ndash;&gt;-->
    <!--update mip_user-->
    <!--set id = #{record.id,jdbcType=VARCHAR},-->
      <!--org_id = #{record.orgId,jdbcType=VARCHAR},-->
      <!--password = #{record.password,jdbcType=VARCHAR},-->
      <!--phone = #{record.phone,jdbcType=VARCHAR},-->
      <!--qq_openid = #{record.qqOpenid,jdbcType=VARCHAR},-->
      <!--weixin_unionid = #{record.weixinUnionid,jdbcType=VARCHAR},-->
      <!--email = #{record.email,jdbcType=VARCHAR},-->
      <!--sex = #{record.sex,jdbcType=TINYINT},-->
      <!--nick_name = #{record.nickName,jdbcType=VARCHAR},-->
      <!--name = #{record.name,jdbcType=VARCHAR},-->
      <!--avatarUrl = #{record.avatarurl,jdbcType=VARCHAR},-->
      <!--area_id = #{record.areaId,jdbcType=VARCHAR},-->
      <!--birthday = #{record.birthday,jdbcType=DATE},-->
      <!--province = #{record.province,jdbcType=INTEGER},-->
      <!--city = #{record.city,jdbcType=INTEGER},-->
      <!--county = #{record.county,jdbcType=INTEGER},-->
      <!--job = #{record.job,jdbcType=VARCHAR},-->
      <!--tags = #{record.tags,jdbcType=INTEGER},-->
      <!--create_time = #{record.createTime,jdbcType=INTEGER},-->
      <!--login_times = #{record.loginTimes,jdbcType=INTEGER},-->
      <!--last_login_time = #{record.lastLoginTime,jdbcType=INTEGER},-->
      <!--createTime = #{record.createtime,jdbcType=TIMESTAMP},-->
      <!--status = #{record.status,jdbcType=TINYINT},-->
      <!--sequence = #{record.sequence,jdbcType=INTEGER},-->
      <!--login_type = #{record.loginType,jdbcType=INTEGER},-->
      <!--isdelete = #{record.isdelete,jdbcType=TINYINT},-->
      <!--description = #{record.description,jdbcType=LONGVARCHAR}-->
    <!--<if test="_parameter != null" >-->
      <!--<include refid="Update_By_Example_Where_Clause" />-->
    <!--</if>-->
  <!--</update>-->
  <!--<update id="updateByExample" parameterType="map" >-->
    <!--&lt;!&ndash;-->
      <!--WARNING - @mbggenerated-->
      <!--This element is automatically generated by MyBatis Generator, do not modify.-->
      <!--This element was generated on Wed Aug 09 11:14:20 CST 2017.-->
    <!--&ndash;&gt;-->
    <!--update mip_user-->
    <!--set id = #{record.id,jdbcType=VARCHAR},-->
      <!--org_id = #{record.orgId,jdbcType=VARCHAR},-->
      <!--password = #{record.password,jdbcType=VARCHAR},-->
      <!--phone = #{record.phone,jdbcType=VARCHAR},-->
      <!--qq_openid = #{record.qqOpenid,jdbcType=VARCHAR},-->
      <!--weixin_unionid = #{record.weixinUnionid,jdbcType=VARCHAR},-->
      <!--email = #{record.email,jdbcType=VARCHAR},-->
      <!--sex = #{record.sex,jdbcType=TINYINT},-->
      <!--nick_name = #{record.nickName,jdbcType=VARCHAR},-->
      <!--name = #{record.name,jdbcType=VARCHAR},-->
      <!--avatarUrl = #{record.avatarurl,jdbcType=VARCHAR},-->
      <!--area_id = #{record.areaId,jdbcType=VARCHAR},-->
      <!--birthday = #{record.birthday,jdbcType=DATE},-->
      <!--province = #{record.province,jdbcType=INTEGER},-->
      <!--city = #{record.city,jdbcType=INTEGER},-->
      <!--county = #{record.county,jdbcType=INTEGER},-->
      <!--job = #{record.job,jdbcType=VARCHAR},-->
      <!--tags = #{record.tags,jdbcType=INTEGER},-->
      <!--create_time = #{record.createTime,jdbcType=INTEGER},-->
      <!--login_times = #{record.loginTimes,jdbcType=INTEGER},-->
      <!--last_login_time = #{record.lastLoginTime,jdbcType=INTEGER},-->
      <!--createTime = #{record.createtime,jdbcType=TIMESTAMP},-->
      <!--status = #{record.status,jdbcType=TINYINT},-->
      <!--sequence = #{record.sequence,jdbcType=INTEGER},-->
      <!--login_type = #{record.loginType,jdbcType=INTEGER},-->
      <!--isdelete = #{record.isdelete,jdbcType=TINYINT}-->
    <!--<if test="_parameter != null" >-->
      <!--<include refid="Update_By_Example_Where_Clause" />-->
    <!--</if>-->
  <!--</update>-->
  <update id="updateByPrimaryKeySelective" parameterType="com.tj720.model.common.system.user.MipUser" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Aug 09 11:14:20 CST 2017.
    -->
    update mip_user
    <set >
      <if test="orgId != null" >
        org_id = #{orgId,jdbcType=VARCHAR},
      </if>
      <if test="password != null" >
        password = #{password,jdbcType=VARCHAR},
      </if>
      <if test="phone != null" >
        phone = #{phone,jdbcType=VARCHAR},
      </if>
      <if test="qqOpenid != null" >
        qq_openid = #{qqOpenid,jdbcType=VARCHAR},
      </if>
      <if test="weixinUnionid != null" >
        weixin_unionid = #{weixinUnionid,jdbcType=VARCHAR},
      </if>
      <if test="email != null" >
        email = #{email,jdbcType=VARCHAR},
      </if>
      <if test="sex != null" >
        sex = #{sex,jdbcType=TINYINT},
      </if>
      <if test="nickName != null" >
        nick_name = #{nickName,jdbcType=VARCHAR},
      </if>
      <if test="name != null" >
        name = #{name,jdbcType=VARCHAR},
      </if>
      <if test="avatarurl != null" >
        avatarUrl = #{avatarurl,jdbcType=VARCHAR},
      </if>
      <if test="areaId != null" >
        area_id = #{areaId,jdbcType=VARCHAR},
      </if>
      <if test="birthday != null" >
        birthday = #{birthday,jdbcType=DATE},
      </if>
      <if test="province != null" >
        province = #{province,jdbcType=INTEGER},
      </if>
      <if test="city != null" >
        city = #{city,jdbcType=INTEGER},
      </if>
      <if test="county != null" >
        county = #{county,jdbcType=INTEGER},
      </if>
      <if test="job != null" >
        job = #{job,jdbcType=VARCHAR},
      </if>
      <if test="tags != null" >
        tags = #{tags,jdbcType=INTEGER},
      </if>
      <if test="createTime != null" >
        create_time = #{createTime,jdbcType=INTEGER},
      </if>
      <if test="loginTimes != null" >
        login_times = #{loginTimes,jdbcType=INTEGER},
      </if>
      <if test="lastLoginTime != null" >
        last_login_time = #{lastLoginTime,jdbcType=INTEGER},
      </if>
      <if test="createtime != null" >
        createTime = #{createtime,jdbcType=TIMESTAMP},
      </if>
      <if test="status != null" >
        status = #{status,jdbcType=TINYINT},
      </if>
      <if test="sequence != null" >
        sequence = #{sequence,jdbcType=INTEGER},
      </if>
      <if test="loginType != null" >
        login_type = #{loginType,jdbcType=INTEGER},
      </if>
      <if test="isdelete != null" >
        isdelete = #{isdelete,jdbcType=TINYINT},
      </if>
      <if test="description != null" >
        description = #{description,jdbcType=LONGVARCHAR},
      </if>
    </set>
    where id = #{id,jdbcType=VARCHAR}
  </update>
  <update id="updateByPrimaryKeyWithBLOBs" parameterType="com.tj720.model.common.system.user.MipUser" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Aug 09 11:14:20 CST 2017.
    -->
    update mip_user
    set org_id = #{orgId,jdbcType=VARCHAR},
      password = #{password,jdbcType=VARCHAR},
      phone = #{phone,jdbcType=VARCHAR},
      qq_openid = #{qqOpenid,jdbcType=VARCHAR},
      weixin_unionid = #{weixinUnionid,jdbcType=VARCHAR},
      email = #{email,jdbcType=VARCHAR},
      sex = #{sex,jdbcType=TINYINT},
      nick_name = #{nickName,jdbcType=VARCHAR},
      name = #{name,jdbcType=VARCHAR},
      avatarUrl = #{avatarurl,jdbcType=VARCHAR},
      area_id = #{areaId,jdbcType=VARCHAR},
      birthday = #{birthday,jdbcType=DATE},
      province = #{province,jdbcType=INTEGER},
      city = #{city,jdbcType=INTEGER},
      county = #{county,jdbcType=INTEGER},
      job = #{job,jdbcType=VARCHAR},
      tags = #{tags,jdbcType=INTEGER},
      create_time = #{createTime,jdbcType=INTEGER},
      login_times = #{loginTimes,jdbcType=INTEGER},
      last_login_time = #{lastLoginTime,jdbcType=INTEGER},
      createTime = #{createtime,jdbcType=TIMESTAMP},
      status = #{status,jdbcType=TINYINT},
      sequence = #{sequence,jdbcType=INTEGER},
      login_type = #{loginType,jdbcType=INTEGER},
      isdelete = #{isdelete,jdbcType=TINYINT},
      description = #{description,jdbcType=LONGVARCHAR}
    where id = #{id,jdbcType=VARCHAR}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.tj720.model.common.system.user.MipUser" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Aug 09 11:14:20 CST 2017.
    -->
    update mip_user
    set org_id = #{orgId,jdbcType=VARCHAR},
      password = #{password,jdbcType=VARCHAR},
      phone = #{phone,jdbcType=VARCHAR},
      qq_openid = #{qqOpenid,jdbcType=VARCHAR},
      weixin_unionid = #{weixinUnionid,jdbcType=VARCHAR},
      email = #{email,jdbcType=VARCHAR},
      sex = #{sex,jdbcType=TINYINT},
      nick_name = #{nickName,jdbcType=VARCHAR},
      name = #{name,jdbcType=VARCHAR},
      avatarUrl = #{avatarurl,jdbcType=VARCHAR},
      area_id = #{areaId,jdbcType=VARCHAR},
      birthday = #{birthday,jdbcType=DATE},
      province = #{province,jdbcType=INTEGER},
      city = #{city,jdbcType=INTEGER},
      county = #{county,jdbcType=INTEGER},
      job = #{job,jdbcType=VARCHAR},
      tags = #{tags,jdbcType=INTEGER},
      create_time = #{createTime,jdbcType=INTEGER},
      login_times = #{loginTimes,jdbcType=INTEGER},
      last_login_time = #{lastLoginTime,jdbcType=INTEGER},
      createTime = #{createtime,jdbcType=TIMESTAMP},
      status = #{status,jdbcType=TINYINT},
      sequence = #{sequence,jdbcType=INTEGER},
      login_type = #{loginType,jdbcType=INTEGER},
      isdelete = #{isdelete,jdbcType=TINYINT}
    where id = #{id,jdbcType=VARCHAR}
  </update>
  
  
  <select id="countByMipUserDto" resultType="java.lang.Integer" parameterType="com.tj720.model.common.system.user.MipUserDto">
  	select count(1) 
  	from mip_user 
  	where 1 = 1
  	<if test="email != null and email != ''" >
    	and email like concat('%',#{email},'%')
    </if>
    <if test="phone != null and phone != ''" >
    	and phone like concat('%',#{phone},'%')
    </if>
    <if test="name != null and name != ''" >
    	and name like concat('%',#{name},'%')
    </if>
    <if test="roleId != null and roleId != ''">
    	and id in (select user_id from mip_user_role where role_id = #{roleId})
    </if>
    <choose>
    	<when test="orgId != null and orgId != ''">
    		and org_id = #{orgId,jdbcType=VARCHAR} 
    		and org_id &gt;0
    	</when>
    	<when test="parentId != null and parentId != ''">
    		
    	</when>
    	<otherwise>
    		and org_id in 
    		<foreach collection="orgList" item="org" open="(" close=")" separator=",">
           	#{org.id}
        	</foreach>
        	and org_id &gt;0
    	</otherwise>
    </choose>
    and isdelete = 0
  </select>
  
  <select id="getListByMap" resultMap="ResultMap" parameterType="java.util.Map">
  	select 
  	a.id, a.org_id, a.password, a.phone, a.qq_openid, a.weixin_unionid, a.email, a.sex, a.nick_name, a.name, 
    a.avatarUrl, a.area_id, a.birthday, a.province, a.city, a.county, a.job, a.tags, a.create_time, a.login_times, 
    a.last_login_time, a.createTime, a.status, a.sequence, a.login_type, a.isdelete,b.name as b_name
    from mip_user a
    left join mip_organization b on b.id = a.org_id
    where 1 = 1
    <if test="email != null and email != ''" >
    	and a.email like concat('%',#{email},'%')
    </if>
    <if test="phone != null and phone != ''" >
    	and a.phone like concat('%',#{phone},'%')
    </if>
    <if test="name != null and name != ''" >
    	and a.name like concat('%',#{name},'%')
    </if>
    <if test="roleId != null and roleId != ''">
    	and a.id in (select user_id from mip_user_role where role_id = #{roleId}) 
    </if>
    <choose>
    	<when test="orgId != null and orgId != ''">
    		and a.org_id = #{orgId,jdbcType=VARCHAR}
    		and org_id &gt;0 
    	</when>
    	<when test="parentId != null and parentId != ''">
    		
    	</when>
    	<otherwise>
    		and a.org_id in 
    		<foreach collection="orgList" item="org" open="(" close=")" separator=",">
           	#{org.id}
        	</foreach>
        	and org_id &gt;0 
    	</otherwise>
    </choose>
    and a.isdelete = 0
    order by createTime desc
	limit #{start},#{end} 
  </select>
  
  <select id="getRoleName" resultMap="RoleResultMap" parameterType="java.util.List">
  	select a.id,c.name 
	from mip_user a
	left join mip_user_role b on b.user_id = a.id
	left join mip_role c on c.id = b.role_id
	where b.user_id in 
	<foreach item="item" index="index" collection="list"  open="(" separator="," close=")">  
    	#{item.userId}  
    </foreach>
    and a.isdelete = 0
    and b.status = 1
    order by a.id
  </select>
  
  <select id="getUserByOrg" resultType="java.lang.Integer" parameterType="java.lang.String">
  	select count(1) from mip_user
  	where status = 1 
  	and org_id = #{orgId}
  </select>
  <update id="deletById" parameterType="java.lang.String">
  	update
  	mip_user set 
  	status = 0,
  	isdelete = 1
  	where id = #{id}
  </update>
  <update id="updataStatus" parameterType="java.util.Map">
  	update
  	mip_user set 
  	status = #{status,jdbcType=TINYINT}
  	where
  	id = #{id}
  </update>
  
  <select id="checkPhone" resultType="java.lang.Integer" parameterType="java.lang.String">
  	select count(1) from mip_user
  	where phone = #{phone}
  </select>
  <select id="getListByPhone" resultMap="BaseResultMap" parameterType="java.lang.String">
    select
    <include refid="Base_Column_List" />
    from mip_user
    where phone = #{phone}
  </select>
</mapper>